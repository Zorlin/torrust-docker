version: "3.7"
services:
  tracker:
    image: zorlin/torrust-tracker:latest
    expose:
      - 6969
    volumes:
      - type: bind
        source: ./tracker-config.toml
        target: /opt/torrust/torrust-tracker/config.toml
    environment:
      - YOUR_DOMAIN=localhost
  backend:
    privileged: true
    image: zorlin/torrust-backend:latest
    expose:
      - 3000
    volumes:
      - type: bind
        source: ./backend-config.toml
        target: /opt/torrust/torrust/backend/config.toml
    environment:
      - YOUR_DOMAIN=localhost
  nginx:
    image: nginx:latest
    expose:
      - 80
    ports:
      - 0.0.0.0:80:80
    volumes:
      - type: bind
        source: ./data/frontend/dist/
        target: /usr/share/nginx/html
      - ./torrust-frontend/templates:/etc/nginx/templates
    environment:
      - YOUR_DOMAIN=localhost
